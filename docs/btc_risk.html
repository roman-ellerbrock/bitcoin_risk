<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Logarithmic Regression Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav>
        <a href="index.html">Home</a>
        <a href="btc_risk.html">Bitcoin</a>
        <a href="eth_risk.html">Ethereum</a>
        <a href="sortino.html">Sortino Analysis</a>
    </nav>

    <div class="container">
        <h1>Bitcoin Logarithmic Regression Dashboard</h1>
        
        <!-- Dropdown to select version -->
        <div class="dropdown">
            <label for="version-select">Include Price data before:</label>
            <select id="version-select">
                <option value="2024-11-30">December 2024</option>
                <option value="2022-11-30">December 2022</option>
                <option value="2020-11-30">December 2020</option>
                <option value="2018-11-30">December 2018</option>
                <option value="2016-11-30">December 2016</option>
                <option value="2014-11-30">December 2014</option>
                <option value="2012-11-30">December 2012</option>
            </select>
        </div>

        <div class="explanation"></div>
            <h3>Explanation</h3>
            <p>
                The logarithmic regression model can be expressed as:
            </p>
            <p>
                \[
                \log(P(t)) = a \cdot \log(t - t0) + b
                \]
            </p>
            <p>
                Where:
                <ul>
                    <li>\(P(t)\): The price at time \(t\) relative to a start time \(t0\).</li>
                    <li>\(a, b\): Model parameters derived from historical price data.</li>
                    <li>\(\log\): Natural logarithm.</li>
                </ul>
            </p>
            <p>
                The logarithmic regression or power law describes many processes in nature. Historical price action of
                bitcoin can in first order be described using a power law as well. The diagrams below show the historical
                price of bitcoin and a risk metric based on deviations from the power law fit.
            </p>

            <h5>Backtesting with limited data</h5>
            <p>
                The model was historically quite predictive of future price action. Try out the 
                drop down bar above to select until when data should be used for the regression. For example, even with
                data from December 2020, the regression predicted the 2021 tops and the 2022 low quite well. The same is
                true for the 2017 bubble with data until December 2016. In fact, the data from 2016 - which includes only
                6 years of price action - still provides a good estimate today (Dec. 2024).

            <h5>Selection of inception time</h5>
            <p>
                Note that the fit requires selecting an inception time, \(t0\). While this parameter can be fitted, I chose
                this value manually to a time around the first bitcoin block. The resulting fit is then simplified to a 
                standard linear fit on log-price and log-time.
                While later data is barely affected by this selection, earlier predictions are more sensitive
                to this choice and choosing the correct value in 2016 might have been difficult without the benefit of hindsight.
            </p>
        </div>

        <!-- Dashboard with dynamic content -->
        <div class="iframe-container">
            <div class="description">
                <strong>Bitcoin Price colored by valuation risk metric:</strong> Historical bitcoin price ($) colored by valuation-based risk metric.
            </div>
            <iframe id="btc-iframe" src="btc/2024-11-30/price.html"></iframe>
        </div>
        
        <div class="iframe-container">
            <div class="description">
                <strong>Valuation Risk:</strong> Bitcoin risk metric based on logarithmic regression.
            </div>
            <iframe id="risk-iframe" src="btc/2024-11-30/risk.html"></iframe>
        </div>

        <div class="iframe-container">
            <div class="description">
                <strong>Bitcoin Price colored by Time Risk:</strong> Historical Bitcoin price ($) colored by days until current price equals fair value derived from logarithmic regression.
            </div>
            <iframe id="btc-time-iframe" src="btc/2024-11-30/price_time.html"></iframe>
        </div>

        <div class="iframe-container">
            <div class="description">
                <strong>Time Risk Analysis:</strong> Days until current bitcoin price equals fair value derived from logarithmic regression.
            </div>
            <iframe id="time-risk-iframe" src="btc/2024-11-30/timerisk.html"></iframe>
        </div>
    </div>

    <script>
        // JavaScript to handle version switching
        document.getElementById('version-select').addEventListener('change', function () {
            const version = this.value.toLowerCase();

            // Update iframe sources for the selected version
            document.getElementById('btc-iframe').src = `btc/${version}/price.html`;
            document.getElementById('risk-iframe').src = `btc/${version}/risk.html`;
            document.getElementById('btc-time-iframe').src = `btc/${version}/price_time.html`;
            document.getElementById('time-risk-iframe').src = `btc/${version}/timerisk.html`;
        });
    </script>
</body>
</html>
